<!doctype html>
<html lang="en" data-bs-theme="dark">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ERP Admin Dashboard</title>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css" />

  <!-- Your overrides (minimal + project-specific) -->
  <link rel="stylesheet" href="styles.css" />

  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />

  <script defer src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
  <script defer src="app.js"></script>
</head>

<body class="bg-body">
  <a class="sr-only-focusable" href="#main">Skip to content</a>

  <!-- LOGIN SCREEN -->
  <section id="loginScreen" hidden class="d-flex align-items-center justify-content-center p-3"
    style="min-height: 100vh;">
    <div class="card shadow-sm border-0" style="width: min(520px, 100%);">
      <div class="card-body p-4">
        <div class="d-flex align-items-center gap-3 mb-3">
          <div class="brand-mark" aria-hidden="true">
            <i class="bi bi-grid-1x2-fill"></i>
          </div>
          <div>
            <div class="fw-semibold">Axpert ERP Dashboard</div>
            <div class="text-body-secondary small">Sign in to continue</div>
          </div>
        </div>

        <form id="loginForm" autocomplete="off">
          <div class="mb-3">
            <label class="form-label" for="loginEmail">Email</label>
            <input id="loginEmail" class="form-control" style="height: 42px;" />
          </div>

          <div class="mb-3">
            <label class="form-label" for="loginPassword">Password</label>
            <input id="loginPassword" type="password" class="form-control" style="height: 42px;" />
          </div>

          <div class="d-flex gap-2 justify-content-end">
            <button class="btn btn-primary" id="loginBtn" type="submit">Sign in</button>
          </div>

          <div class="text-danger small mt-3" id="loginError"></div>
        </form>
      </div>
    </div>
  </section>

  <!-- APP -->
  <div id="appRoot" hidden>
    <!-- Topbar -->
    <header class="topbar border-bottom">
      <nav class="navbar navbar-expand-lg px-2 px-sm-3">
        <div class="d-flex align-items-center gap-2">
          <!-- Keep id for JS -->
          <button class="icon-btn" id="sidebarToggle" aria-label="Toggle sidebar" type="button">
            <span class="icon-lines" aria-hidden="true"></span>
          </button>

          <div class="brand d-flex align-items-center gap-2">
            <div class="brand-mark" aria-hidden="true">
              <i class="bi bi-grid-1x2-fill"></i>
            </div>
            <div class="brand-text">
              <div class="brand-title">Axpert ERP Dashboard</div>
              <div class="brand-subtitle" id="todayLabel"></div>
            </div>
          </div>
        </div>

        <div class="topbar-center flex-grow-1 px-2 d-none d-lg-flex justify-content-center">
          <div class="search w-100" style="max-width: 760px;">
            <span class="search-ic" aria-hidden="true">
              <i class="bi bi-search"></i>
            </span>
            <input id="globalSearch" type="search" placeholder="Search invoices, suppliers, vouchers..."
              autocomplete="off" />
            <kbd class="kbd" title="Shortcut">/</kbd>
          </div>
        </div>

        <div class="topbar-right ms-auto d-flex align-items-center gap-2 position-relative">
          <div class="controls d-none d-md-flex gap-2">
            <select id="periodSelect" class="form-select form-select-sm" aria-label="Period">
              <option value="month" selected>This month</option>
              <option value="quarter">This quarter</option>
              <option value="year">This year</option>
            </select>

            <select id="branchSelect" class="form-select form-select-sm" aria-label="Branch">
              <option value="blr" selected>Bengaluru HQ</option>
              <option value="mum">Mumbai</option>
              <option value="hyd">Hyderabad</option>
            </select>
          </div>

          <!-- Notifications (Bootstrap dropdown; IDs preserved) -->
          <div class="dropdown">
            <button class="icon-btn" id="notifyBtn" aria-label="Notifications" type="button" data-bs-toggle="dropdown"
              data-bs-auto-close="outside" aria-expanded="false">
              <span class="dot" id="notifyDot" aria-hidden="true"></span>
              <i class="bi bi-bell"></i>
            </button>

            <div class="dropdown-menu dropdown-menu-end p-0 shadow" id="notifyPopover" role="dialog"
              aria-label="Notifications" style="width: 340px; max-width: calc(100vw - 20px);">
              <div class="popover-head">
                <div class="popover-title">Notifications</div>
                <button class="btn btn-sm btn-link text-decoration-none" id="markReadBtn" type="button">
                  Mark all read
                </button>
              </div>
              <div class="popover-body" id="notifyList"></div>
            </div>
          </div>

          <!-- Theme -->
          <button class="icon-btn" id="themeBtn" aria-label="Toggle theme" type="button">
            <span id="themeIcon" aria-hidden="true"></span>
          </button>

          <!-- Profile (Bootstrap dropdown; IDs preserved) -->
          <div class="dropdown">
            <button class="avatar" id="profileBtn" aria-label="Profile menu" type="button" data-bs-toggle="dropdown"
              data-bs-auto-close="outside" aria-expanded="false">
              <span class="avatar-badge" aria-hidden="true"></span>
              <span class="avatar-text" id="uiAvatarInitials">SD</span>
            </button>

            <div class="dropdown-menu dropdown-menu-end p-0 shadow" id="profilePopover" role="dialog"
              aria-label="Profile" style="width: 340px; max-width: calc(100vw - 20px);">
              <div class="popover-body">
                <div class="mini-profile d-flex align-items-center gap-3">
                  <div class="mini-avatar" id="uiMiniAvatar">SD</div>
                  <div>
                    <div class="mini-name" id="uiMiniName">Student Developer</div>
                    <div class="mini-sub">Axpert ERP · Bengaluru</div>
                  </div>
                </div>

                <div class="sep"></div>

                <button class="menu-btn" data-action="open-settings" type="button">Settings</button>
                <button class="menu-btn" data-action="export" type="button">Export CSV</button>
                <button class="menu-btn danger" data-action="signout" type="button">Sign out</button>
              </div>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <!-- Layout -->
    <div class="shell">
      <!-- Sidebar keep id/class nav-item for JS -->
      <aside class="sidebar border-end" id="sidebar">
        <nav class="side-nav">
          <button class="nav-item active" data-view="dashboard" type="button">
            <span class="nav-ic" aria-hidden="true"><i class="bi bi-house-door"></i></span>
            <span>Overview</span>
          </button>
          <button class="nav-item" data-view="sales" type="button">
            <span class="nav-ic" aria-hidden="true"><i class="bi bi-graph-up"></i></span>
            <span>Sales</span>
          </button>
          <button class="nav-item" data-view="purchase" type="button">
            <span class="nav-ic" aria-hidden="true"><i class="bi bi-cart3"></i></span>
            <span>Purchases</span>
          </button>
          <button class="nav-item" data-view="assets" type="button">
            <span class="nav-ic" aria-hidden="true"><i class="bi bi-box-seam"></i></span>
            <span>Assets</span>
          </button>
          <button class="nav-item" data-view="reports" type="button">
            <span class="nav-ic" aria-hidden="true"><i class="bi bi-file-earmark-text"></i></span>
            <span>Reports</span>
          </button>
          <button class="nav-item" data-view="settings" type="button">
            <span class="nav-ic" aria-hidden="true"><i class="bi bi-gear"></i></span>
            <span>Settings</span>
          </button>
        </nav>
      </aside>

      <!-- Main -->
      <main id="main" class="main container-fluid py-3">
        <!-- DASHBOARD -->
        <section class="view active" id="view-dashboard" aria-label="Dashboard view">
          <div class="page-head d-flex flex-wrap align-items-start justify-content-between gap-2 mb-3">
            <div>
              <h1 class="page-title m-0">Overview</h1>
              <p class="page-sub mb-0 text-body-secondary">Approvals, cashflow signals, and operational load.</p>
            </div>

            <div class="page-actions d-flex gap-2 flex-wrap">
              <button class="btn btn-primary btn-sm" data-modal="create" data-type="tstruct" data-eot="sinv"
                type="button">
                New Sales Invoice
              </button>
              <button class="btn btn-outline-primary btn-sm" data-modal="create" data-type="tstruct" data-eot="pinv"
                type="button">
                New Purchase Invoice
              </button>
              <button class="btn btn-outline-secondary btn-sm" id="refreshBtn" type="button">Refresh</button>
            </div>
          </div>

          <!-- KPIs -->
          <div class="row g-3 mb-3">
            <div class="col-12 col-md-6 col-xl-3">
              <article class="card kpi h-100" data-kpi="sales">
                <div class="card-body">
                  <div class="d-flex justify-content-between gap-2">
                    <div>
                      <div class="kpi-label">Posted Sales Invoices</div>
                      <div class="kpi-value"><span data-count id="kpiSales">0</span></div>
                    </div>
                    <div class="pill up" id="kpiSalesDeltaLive">Live</div>
                  </div>
                  <div class="spark mt-2">
                    <canvas id="sparkSales" height="44"></canvas>
                  </div>
                </div>
              </article>
            </div>

            <div class="col-12 col-md-6 col-xl-3">
              <article class="card kpi h-100" data-kpi="purchase">
                <div class="card-body">
                  <div class="d-flex justify-content-between gap-2">
                    <div>
                      <div class="kpi-label">Posted Purchase Invoices</div>
                      <div class="kpi-value"><span data-count id="kpiPurchase">0</span></div>
                    </div>
                    <div class="pill neutral" id="kpiPurchaseDeltaLive">Live</div>
                  </div>
                  <div class="spark mt-2">
                    <canvas id="sparkPurchase" height="44"></canvas>
                  </div>
                </div>
              </article>
            </div>

            <div class="col-12 col-md-6 col-xl-3">
              <article class="card kpi h-100" data-kpi="stock">
                <div class="card-body">
                  <div class="d-flex justify-content-between gap-2">
                    <div>
                      <div class="kpi-label">Active Modules</div>
                      <div class="kpi-value"><span data-count id="kpiStock">0</span></div>
                    </div>
                    <div class="pill neutral" id="kpiStockDeltaStable">Stable</div>
                  </div>
                  <div class="spark mt-2">
                    <canvas id="sparkStock" height="44"></canvas>
                  </div>
                </div>
              </article>
            </div>

            <div class="col-12 col-md-6 col-xl-3">
              <article class="card kpi h-100" data-kpi="approvals">
                <div class="card-body">
                  <div class="d-flex justify-content-between gap-2">
                    <div>
                      <div class="kpi-label">Reports / Dashboards</div>
                      <div class="kpi-value"><span data-count id="kpiPending">0</span></div>
                    </div>
                    <div class="pill warn" id="kpiPendingDeltaBrowse">Browse</div>
                  </div>
                  <div class="kpi-foot mt-2">
                    <button class="link" data-view-jump="reports" type="button">Open reports</button>
                  </div>
                </div>
              </article>
            </div>
          </div>

          <!-- Content grid -->
          <div class="row g-3">
            <div class="col-12 col-xl-7">
              <article class="card h-100">
                <div class="card-body">
                  <div class="d-flex justify-content-between align-items-start gap-2 mb-2">
                    <div>
                      <h2 class="card-title h6 mb-1">Monthly Purchase Summary</h2>
                      <div class="card-sub text-body-secondary small">Click chart to open IView</div>
                    </div>
                    <div>
                      <button class="btn btn-outline-secondary btn-sm" data-modal="open" data-type="iview"
                        data-ivname="mpur" type="button">
                        Open
                      </button>
                    </div>
                  </div>

                  <div class="chart-wrap">
                    <canvas id="chartMonthlyPurchase" height="140"></canvas>
                  </div>
                </div>
              </article>
            </div>

            <div class="col-12 col-xl-5">
              <article class="card h-100">
                <div class="card-body">
                  <div class="d-flex justify-content-between align-items-start gap-2 mb-2">
                    <div>
                      <h2 class="card-title h6 mb-1">Approvals</h2>
                      <div class="card-sub text-body-secondary small">Fast queue — click to open details.</div>
                    </div>
                    <div>
                      <button class="btn btn-outline-secondary btn-sm" id="approveAllBtn" type="button">Bulk
                        actions</button>
                    </div>
                  </div>

                  <div class="list" id="approvalList"></div>
                </div>
              </article>
            </div>

            <div class="col-12">
              <article class="card">
                <div class="card-body">
                  <div class="d-flex flex-wrap justify-content-between align-items-start gap-2 mb-2">
                    <div>
                      <h2 class="card-title h6 mb-1">Recent transactions</h2>
                      <div class="card-sub text-body-secondary small">Filtered by period and branch.</div>
                    </div>

                    <div class="table-tools d-flex gap-2 flex-wrap">
                      <select id="txnTypeFilter" class="form-select form-select-sm" aria-label="Type">
                        <option value="all" selected>All types</option>
                        <option value="Sales Invoice">Sales Invoice</option>
                        <option value="Purchase Invoice">Purchase Invoice</option>
                        <option value="Journal Entry">Journal Entry</option>
                        <option value="Customer Receipt">Customer Receipt</option>
                        <option value="Supplier Receipt">Supplier Receipt</option>
                      </select>

                      <select id="txnStatusFilter" class="form-select form-select-sm" aria-label="Status">
                        <option value="all" selected>All status</option>
                        <option value="Pending">Pending</option>
                        <option value="Approved">Approved</option>
                        <option value="Draft">Draft</option>
                        <option value="Posted">Posted</option>
                      </select>
                    </div>
                  </div>

                  <div class="table-responsive table-wrap">
                    <table class="table table-sm align-middle mb-0" id="txnTable">
                      <thead>
                        <tr>
                          <th>Doc</th>
                          <th>Type</th>
                          <th>Party</th>
                          <th class="text-end">Amount</th>
                          <th>Status</th>
                          <th class="text-end">Age</th>
                        </tr>
                      </thead>
                      <tbody id="txnTbody"></tbody>
                    </table>
                  </div>

                  <div class="table-foot d-flex justify-content-between align-items-center gap-2 mt-2">
                    <div class="text-body-secondary small" id="tableCount"></div>

                    <div class="pager d-flex align-items-center gap-2">
                      <button class="btn btn-outline-secondary btn-sm" id="prevPage" type="button">Prev</button>
                      <div class="text-body-secondary small" id="pageMeta"></div>
                      <button class="btn btn-outline-secondary btn-sm" id="nextPage" type="button">Next</button>
                    </div>
                  </div>
                </div>
              </article>
            </div>
          </div>
        </section>

        <!-- SALES -->
        <section class="view" id="view-sales" aria-label="Sales view">
          <div class="page-head d-flex flex-wrap align-items-start justify-content-between gap-2 mb-3">
            <div>
              <h1 class="page-title m-0">Sales</h1>
              <p class="page-sub mb-0 text-body-secondary">Invoices, collections, and customer pipeline.</p>
            </div>

            <div class="page-actions d-flex gap-2 flex-wrap">
              <button class="btn btn-primary btn-sm" data-modal="open" data-type="tstruct" data-eot="sinv"
                type="button">
                <i class="bi bi-receipt-cutoff me-1" aria-hidden="true"></i>
                Open Sales Invoice
              </button>

              <button class="btn btn-outline-primary btn-sm" data-modal="open" data-type="iview" data-ivname="ssummary"
                type="button">
                <i class="bi bi-bar-chart-line me-1" aria-hidden="true"></i>
                Sales Summary
              </button>
            </div>
          </div>

          <div class="row g-3">
            <!-- Left: chart -->
            <div class="col-12 col-xl-8">
              <article class="card sales-card h-100">
                <div class="card-body">
                  <div class="section-head mb-2">
                    <div>
                      <h2 class="card-title h6 mb-1">Item wise sales summary</h2>
                      <div class="section-sub text-body-secondary small">Click the chart to open IView.</div>
                    </div>

                    <button class="btn btn-outline-secondary btn-sm" data-modal="open" data-type="iview"
                      data-ivname="isales" type="button">
                      Open
                    </button>
                  </div>

                  <div class="chart-wrap sales-chart">
                    <canvas id="chartItemSales" height="180"></canvas>
                  </div>
                </div>
              </article>
            </div>

            <!-- Right: insights stack -->
            <div class="col-12 col-xl-4">
              <div class="row g-3">
                <div class="col-12">
                  <article class="card sales-card">
                    <div class="card-body">
                      <div class="section-head mb-1">
                        <div class="d-flex align-items-center gap-2">
                          <span class="mini-ic" aria-hidden="true"><i class="bi bi-exclamation-triangle"></i></span>
                          <h2 class="card-title h6 mb-0">Collections risk</h2>
                        </div>
                      </div>

                      <div class="metric">
                        <div class="metric-big" id="salesRisk">—</div>
                        <div class="metric-sub text-body-secondary small">Overdue non-posted invoices in this period.
                        </div>
                      </div>
                    </div>
                  </article>
                </div>

                <div class="col-12">
                  <article class="card sales-card">
                    <div class="card-body">
                      <div class="section-head mb-2">
                        <div class="d-flex align-items-center gap-2">
                          <span class="mini-ic" aria-hidden="true"><i class="bi bi-people"></i></span>
                          <h2 class="card-title h6 mb-0">Top customers</h2>
                        </div>
                      </div>

                      <div class="tag-stack" id="topCustomers"></div>
                    </div>
                  </article>
                </div>

                <div class="col-12">
                  <article class="card sales-card">
                    <div class="card-body">
                      <div class="section-head mb-2">
                        <div class="d-flex align-items-center gap-2">
                          <span class="mini-ic" aria-hidden="true"><i class="bi bi-lightning-charge"></i></span>
                          <h2 class="card-title h6 mb-0">Quick actions</h2>
                        </div>
                      </div>

                      <div class="actions-grid">
                        <button class="action" data-modal="create" data-type="tstruct" data-eot="cmas" type="button">
                          <i class="bi bi-person-badge me-1" aria-hidden="true"></i> Customer Master
                        </button>
                        <button class="action" data-modal="create" data-type="tstruct" data-eot="sinv" type="button">
                          <i class="bi bi-plus-circle me-1" aria-hidden="true"></i> Create Invoice
                        </button>
                        <button class="action" data-modal="open" data-type="tstruct" data-eot="lmas" type="button">
                          <i class="bi bi-journal-text me-1" aria-hidden="true"></i> Ledger Master
                        </button>
                      </div>
                    </div>
                  </article>
                </div>
              </div>
            </div>
          </div>
        </section>


        <!-- PURCHASE -->
        <section class="view" id="view-purchase" aria-label="Purchase view">
          <div class="page-head d-flex flex-wrap align-items-start justify-content-between gap-2 mb-3">
            <div>
              <h1 class="page-title m-0">Purchase</h1>
              <p class="page-sub mb-0 text-body-secondary">Supplier invoices and operational spend.</p>
            </div>

            <div class="page-actions d-flex gap-2 flex-wrap">
              <button class="btn btn-primary btn-sm" data-modal="open" data-type="tstruct" data-eot="pinv"
                type="button">
                <i class="bi bi-bag-check me-1" aria-hidden="true"></i>
                Open Purchase Invoice
              </button>

              <button class="btn btn-outline-primary btn-sm" data-modal="open" data-type="iview" data-ivname="mpur"
                type="button">
                <i class="bi bi-calendar3 me-1" aria-hidden="true"></i>
                Monthly Purchase Summary
              </button>
            </div>
          </div>

          <div class="row g-3">
            <!-- Left: Supplier health -->
            <div class="col-12 col-xl-5">
              <article class="card purchase-card h-100">
                <div class="card-body">
                  <div class="section-head mb-2">
                    <div class="d-flex align-items-center gap-2">
                      <span class="mini-ic purchase-ic" aria-hidden="true"><i class="bi bi-truck"></i></span>
                      <div>
                        <h2 class="card-title h6 mb-1">Supplier health</h2>
                        <div class="section-sub text-body-secondary small">
                          On-time delivery, pending receipts, and approvals.
                        </div>
                      </div>
                    </div>

                    <button class="btn btn-outline-secondary btn-sm" data-modal="open" data-type="iview"
                      data-ivname="psup" type="button">
                      Open
                    </button>
                  </div>

                  <div class="list" id="supplierHealth"></div>
                </div>
              </article>
            </div>

            <!-- Right: Charts -->
            <div class="col-12 col-xl-7">
              <div class="row g-3">
                <div class="col-12">
                  <article class="card purchase-card">
                    <div class="card-body">
                      <div class="section-head mb-2">
                        <div>
                          <h2 class="card-title h6 mb-1">Purchases by supplier</h2>
                          <div class="section-sub text-body-secondary small">Click chart to open IView.</div>
                        </div>

                        <button class="btn btn-outline-secondary btn-sm" data-modal="open" data-type="iview"
                          data-ivname="psup" type="button">
                          Open
                        </button>
                      </div>

                      <div class="chart-wrap purchase-chart">
                        <canvas id="chartSupplierPurchase" height="160"></canvas>
                      </div>
                    </div>
                  </article>
                </div>

                <div class="col-12">
                  <article class="card purchase-card">
                    <div class="card-body">
                      <div class="section-head mb-2">
                        <div>
                          <h2 class="card-title h6 mb-1">Item wise purchase summary</h2>
                          <div class="section-sub text-body-secondary small">Click chart to open IView.</div>
                        </div>

                        <button class="btn btn-outline-secondary btn-sm" data-modal="open" data-type="iview"
                          data-ivname="ipur" type="button">
                          Open
                        </button>
                      </div>

                      <div class="chart-wrap purchase-chart-alt">
                        <canvas id="chartItemPurchase" height="180"></canvas>
                      </div>
                    </div>
                  </article>
                </div>
              </div>
            </div>
          </div>
        </section>


        <!-- ASSETS -->
        <section class="view" id="view-assets" aria-label="Assets view">
          <div class="page-head d-flex flex-wrap align-items-start justify-content-between gap-2 mb-3">
            <div>
              <h1 class="page-title m-0">Assets</h1>
              <p class="page-sub mb-0 text-body-secondary">Asset master, categories, and acquisition history.</p>
            </div>

            <div class="page-actions d-flex gap-2 flex-wrap">
              <button class="btn btn-primary btn-sm" data-modal="open" data-type="tstruct" data-eot="amas"
                type="button">
                <i class="bi bi-box-seam me-1" aria-hidden="true"></i>
                Asset Master
              </button>

              <button class="btn btn-outline-primary btn-sm" data-modal="open" data-type="iview" data-ivname="acqhist"
                type="button">
                <i class="bi bi-clock-history me-1" aria-hidden="true"></i>
                Acquisition History
              </button>
            </div>
          </div>

          <div class="row g-3">
            <!-- Left: Chart -->
            <div class="col-12 col-xl-7">
              <article class="card assets-card h-100">
                <div class="card-body">
                  <div class="section-head mb-2">
                    <div>
                      <h2 class="card-title h6 mb-1">Asset acquisition by vendor</h2>
                      <div class="section-sub text-body-secondary small">Click chart to open IView.</div>
                    </div>

                    <button class="btn btn-outline-secondary btn-sm" data-modal="open" data-type="iview"
                      data-ivname="acqhist" type="button">
                      Open
                    </button>
                  </div>

                  <div class="chart-wrap assets-chart">
                    <canvas id="chartAssetAcq" height="160"></canvas>
                  </div>
                </div>
              </article>
            </div>

            <!-- Right: Insights stack -->
            <div class="col-12 col-xl-5">
              <div class="row g-3">
                <div class="col-12">
                  <article class="card assets-card">
                    <div class="card-body">
                      <div class="section-head mb-1">
                        <div class="d-flex align-items-center gap-2">
                          <span class="mini-ic assets-ic" aria-hidden="true"><i class="bi bi-plus-square"></i></span>
                          <h2 class="card-title h6 mb-0">Assets added</h2>
                        </div>
                      </div>

                      <div class="metric">
                        <div class="metric-big" id="assetAdded">—</div>
                        <div class="metric-sub text-body-secondary small">This period.</div>
                      </div>
                    </div>
                  </article>
                </div>

                <div class="col-12">
                  <article class="card assets-card">
                    <div class="card-body">
                      <div class="section-head mb-1">
                        <div class="d-flex align-items-center gap-2">
                          <span class="mini-ic assets-ic" aria-hidden="true"><i class="bi bi-tags"></i></span>
                          <h2 class="card-title h6 mb-0">Categories</h2>
                        </div>
                      </div>

                      <div class="metric">
                        <div class="metric-big">Open</div>
                        <div class="metric-sub text-body-secondary small">Asset Category Master</div>
                      </div>

                      <div class="actions-grid mt-3">
                        <button class="action" data-modal="open" data-type="tstruct" data-eot="acmas" type="button">
                          <i class="bi bi-ui-checks-grid me-1" aria-hidden="true"></i> Asset Category Master
                        </button>
                      </div>
                    </div>
                  </article>
                </div>

                <div class="col-12">
                  <article class="card assets-card">
                    <div class="card-body">
                      <div class="section-head mb-2">
                        <div class="d-flex align-items-center gap-2">
                          <span class="mini-ic assets-ic" aria-hidden="true"><i
                              class="bi bi-lightning-charge"></i></span>
                          <h2 class="card-title h6 mb-0">Shortcuts</h2>
                        </div>
                      </div>

                      <div class="actions-grid">
                        <button class="action" data-modal="open" data-type="tstruct" data-eot="smas" type="button">
                          <i class="bi bi-truck me-1" aria-hidden="true"></i> Supplier Master
                        </button>
                        <button class="action" data-modal="open" data-type="tstruct" data-eot="jent" type="button">
                          <i class="bi bi-journal-text me-1" aria-hidden="true"></i> Journal Entry
                        </button>
                        <button class="action" data-modal="open" data-type="tstruct" data-eot="lmas" type="button">
                          <i class="bi bi-book me-1" aria-hidden="true"></i> Ledger Master
                        </button>
                      </div>
                    </div>
                  </article>
                </div>

              </div>
            </div>
          </div>
        </section>


        <!-- REPORTS -->
        <section class="view" id="view-reports" aria-label="Reports view">
          <div class="page-head d-flex flex-wrap align-items-start justify-content-between gap-2 mb-3">
            <div>
              <h1 class="page-title m-0">Reports</h1>
              <p class="page-sub mb-0 text-body-secondary">IViews and quick exports.</p>
            </div>

            <div class="page-actions d-flex gap-2 flex-wrap">
              <button class="btn btn-outline-primary btn-sm" id="exportBtn" type="button">Export transactions</button>
            </div>
          </div>

          <div class="row g-3">
            <div class="col-12 col-xl-7">
              <article class="card">
                <div class="card-body">
                  <h2 class="card-title h6 mb-2">IViews</h2>

                  <div class="row g-2">
                    <div class="col-12 col-md-6 col-xl-4">
                      <button class="report-tile" data-modal="open" data-type="iview" data-ivname="slist" type="button">
                        <span class="report-ic"><i class="bi bi-receipt"></i></span>
                        <span class="report-meta">
                          <span class="report-title">Sales List</span>
                          <span class="report-sub">Transactions overview</span>
                        </span>
                      </button>
                    </div>

                    <div class="col-12 col-md-6 col-xl-4">
                      <button class="report-tile" data-modal="open" data-type="iview" data-ivname="ssummary"
                        type="button">
                        <span class="report-ic"><i class="bi bi-bar-chart-line"></i></span>
                        <span class="report-meta">
                          <span class="report-title">Sales Summary</span>
                          <span class="report-sub">Totals by period</span>
                        </span>
                      </button>
                    </div>

                    <div class="col-12 col-md-6 col-xl-4">
                      <button class="report-tile" data-modal="open" data-type="iview" data-ivname="salespercustomer"
                        type="button">
                        <span class="report-ic"><i class="bi bi-people"></i></span>
                        <span class="report-meta">
                          <span class="report-title">Sales per Customer</span>
                          <span class="report-sub">Customer-wise totals</span>
                        </span>
                      </button>
                    </div>

                    <div class="col-12 col-md-6 col-xl-4">
                      <button class="report-tile" data-modal="open" data-type="iview" data-ivname="plist" type="button">
                        <span class="report-ic"><i class="bi bi-bag-check"></i></span>
                        <span class="report-meta">
                          <span class="report-title">Purchase List</span>
                          <span class="report-sub">Invoices overview</span>
                        </span>
                      </button>
                    </div>

                    <div class="col-12 col-md-6 col-xl-4">
                      <button class="report-tile" data-modal="open" data-type="iview" data-ivname="psummary"
                        type="button">
                        <span class="report-ic"><i class="bi bi-clipboard-data"></i></span>
                        <span class="report-meta">
                          <span class="report-title">Purchase Summary</span>
                          <span class="report-sub">Spend by period</span>
                        </span>
                      </button>
                    </div>

                    <div class="col-12 col-md-6 col-xl-4">
                      <button class="report-tile" data-modal="open" data-type="iview" data-ivname="mpur" type="button">
                        <span class="report-ic"><i class="bi bi-calendar3"></i></span>
                        <span class="report-meta">
                          <span class="report-title">Monthly Purchase Summary</span>
                          <span class="report-sub">Month-wise trend</span>
                        </span>
                      </button>
                    </div>

                    <div class="col-12 col-md-6 col-xl-4">
                      <button class="report-tile" data-modal="open" data-type="iview" data-ivname="psup" type="button">
                        <span class="report-ic"><i class="bi bi-truck"></i></span>
                        <span class="report-meta">
                          <span class="report-title">Purchases per Supplier</span>
                          <span class="report-sub">Supplier-wise totals</span>
                        </span>
                      </button>
                    </div>

                    <div class="col-12 col-md-6 col-xl-4">
                      <button class="report-tile" data-modal="open" data-type="iview" data-ivname="acqhist"
                        type="button">
                        <span class="report-ic"><i class="bi bi-box-seam"></i></span>
                        <span class="report-meta">
                          <span class="report-title">Asset Acquisition History</span>
                          <span class="report-sub">Vendor-wise assets</span>
                        </span>
                      </button>
                    </div>
                  </div>
                </div>
              </article>

            </div>

            <div class="col-12 col-xl-5">
              <article class="card">
                <div class="card-body">
                  <h2 class="card-title h6 mb-1">Approval queue</h2>
                  <p class="text-body-secondary small mb-2">Shared with Overview.</p>
                  <div class="list" id="approvalListReports"></div>
                </div>
              </article>
            </div>
          </div>
        </section>

        <!-- SETTINGS -->
        <section class="view" id="view-settings" aria-label="Settings view">
          <div class="page-head d-flex flex-wrap align-items-start justify-content-between gap-2 mb-3">
            <div>
              <h1 class="page-title m-0">Settings</h1>
              <p class="page-sub mb-0 text-body-secondary">Theme, motion, and workspace preferences.</p>
            </div>
          </div>

          <div class="settings-hero mb-3">
            <div class="settings-hero-left">
              <div class="settings-avatar" id="uiSettingsAvatar">SD</div>
              <div>
                <div class="settings-name" id="uiSettingsName">Student Developer</div>
                <div class="settings-sub">Axpert ERP • Bengaluru</div>
              </div>
            </div>

            <div class="settings-hero-right">
              <div class="settings-chip">
                <i class="bi bi-calendar3 me-1" aria-hidden="true"></i>
                Period: <span id="settingsPeriodLabel">This month</span>
              </div>
              <div class="settings-chip">
                <i class="bi bi-geo-alt me-1" aria-hidden="true"></i>
                Branch: <span id="settingsBranchLabel">Bengaluru HQ</span>
              </div>
            </div>
          </div>

          <div class="row g-3">
            <!-- Appearance -->
            <div class="col-12 col-xl-6">
              <article class="card settings-card">
                <div class="card-body">
                  <div class="section-head mb-2">
                    <div class="d-flex align-items-center gap-2">
                      <span class="mini-ic settings-ic" aria-hidden="true"><i class="bi bi-palette2"></i></span>
                      <div>
                        <h2 class="card-title h6 mb-0">Appearance</h2>
                        <div class="section-sub text-body-secondary small">Choose your look & feel.</div>
                      </div>
                    </div>
                  </div>

                  <div class="form-row">
                    <div class="label">Theme</div>
                    <div class="seg" role="group" aria-label="Theme">
                      <button class="seg-btn" data-theme-set="dark" type="button">
                        <i class="bi bi-moon-stars me-1" aria-hidden="true"></i> Dark
                      </button>
                      <button class="seg-btn" data-theme-set="light" type="button">
                        <i class="bi bi-sun me-1" aria-hidden="true"></i> Light
                      </button>
                    </div>
                  </div>

                  <div class="form-row">
                    <div class="label">Motion</div>
                    <div class="seg" role="group" aria-label="Motion">
                      <button class="seg-btn" data-motion="auto" type="button">
                        <i class="bi bi-magic me-1" aria-hidden="true"></i> Auto
                      </button>
                      <button class="seg-btn" data-motion="reduced" type="button">
                        <i class="bi bi-slash-circle me-1" aria-hidden="true"></i> Reduced
                      </button>
                    </div>
                  </div>
                </div>
              </article>
            </div>

            <!-- Workspace -->
            <div class="col-12 col-xl-6">
              <article class="card settings-card">
                <div class="card-body">
                  <div class="section-head mb-2">
                    <div class="d-flex align-items-center gap-2">
                      <span class="mini-ic settings-ic" aria-hidden="true"><i class="bi bi-sliders2"></i></span>
                      <div>
                        <h2 class="card-title h6 mb-0">Workspace</h2>
                        <div class="section-sub text-body-secondary small">Layout and exports.</div>
                      </div>
                    </div>
                  </div>

                  <div class="settings-actions">
                    <button class="action" id="prefSidebarToggle" type="button">
                      <i class="bi bi-layout-sidebar-inset me-1" aria-hidden="true"></i>
                      Toggle sidebar size
                    </button>
                    <div class="text-body-secondary small">Collapses/expands the left navigation.</div>

                    <button class="action" data-action="export" type="button">
                      <i class="bi bi-download me-1" aria-hidden="true"></i>
                      Export transactions CSV
                    </button>
                    <div class="text-body-secondary small">Exports the currently filtered table.</div>

                    <button class="action" data-view-jump="reports" type="button">
                      <i class="bi bi-file-earmark-text me-1" aria-hidden="true"></i>
                      Open Reports
                    </button>
                    <div class="text-body-secondary small">Shortcuts to IViews and approval queue.</div>
                  </div>
                </div>
              </article>
            </div>
          </div>
        </section>

      </main>
    </div>

    <!-- Bootstrap Modal (IDs preserved for app.js) -->
    <div class="modal fade" id="appModal" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content border-0 shadow">
          <div class="modal-header">
            <h5 class="modal-title" id="modalTitle"></h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>

          <div class="modal-body" id="modalBody"></div>

          <div class="modal-footer" id="modalFoot">
            <button class="btn btn-outline-secondary btn-sm" type="button" data-bs-dismiss="modal">Close</button>
            <button class="btn btn-primary btn-sm" id="modalPrimaryBtn" type="button">Open</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Bootstrap toast container (ID preserved) -->
    <div class="toast-container position-fixed bottom-0 end-0 p-3" id="toastRegion" aria-live="polite"
      aria-atomic="true"></div>

    <!-- Scroll top -->
    <button class="btn btn-secondary scrolltop" id="scrollTop" aria-label="Scroll to top" type="button">
      <i class="bi bi-arrow-up" aria-hidden="true"></i>
    </button>
  </div>

  <!-- Bootstrap bundle -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>